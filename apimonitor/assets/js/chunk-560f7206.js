(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-560f7206"],{"4d99":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("dev",[o("el-breadcrumb",{staticClass:"myBreadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),o("el-breadcrumb-item",{attrs:{to:{path:"/project/list"}}},[e._v("项目列表")]),o("el-breadcrumb-item",[e._v("项目详情")])],1),o("el-card",[o("el-divider"),o("div",[o("el-form",{ref:"addFormRef",attrs:{model:e.createProjectBody,rules:e.addRulesForm,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"项目名称:",prop:"project_name"}},[o("el-input",{staticClass:"project_name_input",attrs:{placeholder:"请输入项目名"},model:{value:e.createProjectBody.project_name,callback:function(t){e.$set(e.createProjectBody,"project_name",t)},expression:"createProjectBody.project_name"}}),[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增/修改",placement:"top"}},[o("el-button",{staticClass:"createProjectButton",attrs:{type:"success",icon:"el-icon-plus",size:"mini",disabled:e.isDisable,circle:""},on:{click:function(t){return e.createProject()}}})],1)]],2),o("el-form-item",{attrs:{label:"模块名称:"}},[o("el-input",{staticClass:"project_name_input",attrs:{placeholder:"请输入模块名"},model:{value:e.createModelBody.model_name,callback:function(t){e.$set(e.createModelBody,"model_name",t)},expression:"createModelBody.model_name"}}),[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增",placement:"top"}},[o("el-button",{staticClass:"createProjectButton",attrs:{type:"success",icon:"el-icon-plus",size:"mini",disabled:e.createModelIsDisable,circle:""},on:{click:function(t){return e.createModel()}}})],1)]],2),o("el-table",{staticClass:"model_table",attrs:{border:"",data:e.getModelBody},on:{"row-dblclick":function(t){return e.showTableInputMethod()}}},[o("el-table-column",{attrs:{width:"70px",label:"模块id",prop:"model_id"}}),o("el-table-column",{attrs:{label:"模块名称",prop:"model_name"}}),o("el-table-column",{attrs:{label:"创建人",prop:"create_user"}}),o("el-table-column",{attrs:{label:"操作",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",ricon:"el-icon-edit",circle:""},on:{click:function(o){return e.showEditDialog(t.row.model_id,t.row.model_name)}}})],1),o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",ricon:"el-icon-edit",circle:""},on:{click:function(o){return e.removeModelById(t.row.model_id)}}})],1)]}}])})],1)],1),o("el-pagination",{attrs:{background:"",small:"","current-page":e.getModelListBody.page_num,layout:"prev, pager, next",total:500},on:{"current-change":e.handleCurrentChange}}),o("span",{staticClass:"goProject-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){return e.goProjectList()}}},[e._v("返回")])],1)],1)],1),o("el-dialog",{attrs:{title:"修改模块",visible:e.editDialogVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogVisible=t},close:e.editDialogClosed}},[o("el-form",{ref:"editFormRef",attrs:{model:e.editModelBody,rules:e.editModelForm,"label-width":"85px"}},[o("el-form-item",{attrs:{label:"项目名称",prop:"model_name"}},[o("el-input",{model:{value:e.editModelBody.model_name,callback:function(t){e.$set(e.editModelBody,"model_name",t)},expression:"editModelBody.model_name"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editModelById()}}},[e._v("确 定")])],1)],1)],1)},i=[],a=(o("b0c0"),o("96cf"),o("1da1")),s={created:function(){this.receiveBody.project_name=this.$route.query.name,this.receiveBody.project_id=this.$route.query.id,this.modelList()},data:function(){return{receiveBody:{project_id:"",project_name:""},getModelListBody:{project_id:"",page_num:1},createProjectBody:{project_name:""},editProjectBody:{project_id:"",project_name:""},createModelBody:{project_id:"",model_name:""},removeModel:{model_id:""},editModelBody:{model_id:"",model_name:""},getModelBody:{},addRulesForm:{project_name:[{required:!0,message:"请输入项目名",trigger:"blur"}]},editModelForm:{model_name:[{required:!0,message:"请输入模块名",trigger:"blur"}]},isDisable:!1,createModelIsDisable:!1,editDialogVisible:!1,showTableInput:!1}},methods:{goProjectList:function(){this.$router.push("/project/list")},handleCurrentChange:function(e){this.getModelListBody.page_num=e,this.modelList()},showTableInputMethod:function(){console.log("点击事件！！！"),this.showTableInput=!0},modelList:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.createProjectBody.project_name=this.receiveBody.project_name,this.getModelListBody.project_id=this.receiveBody.project_id,e.next=4,this.$api.project.getModelList(this.getModelListBody);case 4:if(t=e.sent,o=t.data,1===o.code){e.next=8;break}return e.abrupt("return",this.$message.error("获取用户列表失败！"));case 8:this.getModelBody=o.data;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createProject:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isDisable=!0,this.receiveBody.project_id){e.next=9;break}return e.next=4,this.$api.project.addProject(this.createProjectBody);case 4:t=e.sent,o=t.data,1===o.code?(this.$message.success("添加项目成功！"),this.receiveBody.project_id=o.data.project_id,this.receiveBody.project_name=o.data.project_name):this.$message.error(o.msg),e.next=16;break;case 9:return this.editProjectBody.project_id=this.receiveBody.project_id,this.editProjectBody.project_name=this.receiveBody.project_name,e.next=13,this.$api.project.editProject(this.editProjectBody);case 13:r=e.sent,i=r.data,1===i.code?this.$message.success("修改项目成功！"):this.$message.error(i.msg);case 16:setTimeout((function(){a.isDisable=!1}),1e3);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createModel:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.createModelIsDisable=!0,this.createModelBody.project_id=this.receiveBody.project_id,e.next=4,this.$api.project.addModel(this.createModelBody);case 4:t=e.sent,o=t.data,1===o.code?this.$message.success("添加模块成功！"):this.$message.error("添加模块失败！"),this.modelList(),setTimeout((function(){r.createModelIsDisable=!1}),1e3);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeModelById:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.removeModel.model_id=t,e.next=3,this.$api.project.delModel(this.removeModel);case 3:o=e.sent,r=o.data,1===r.code?this.$message.success("删除模块成功！"):this.$message.error("删除模块失败！"),this.modelList();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showEditDialog:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.editModelBody.model_id=t,this.editModelBody.model_name=o,this.editDialogVisible=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(t,o){return e.apply(this,arguments)}return t}(),editModelById:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.project.editModel(this.editModelBody);case 2:t=e.sent,o=t.data,1!==o.code&&this.$message.error("编辑模块失败！"),this.$message.success("编辑模块成功！"),this.editDialogVisible=!1,this.modelList();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.$refs.editFormRef.resetFields()}}},n=s,c=(o("5b95"),o("2877")),l=Object(c["a"])(n,r,i,!1,null,"68fd1eae",null);t["default"]=l.exports},"5b95":function(e,t,o){"use strict";var r=o("ad0c"),i=o.n(r);i.a},ad0c:function(e,t,o){}}]);
//# sourceMappingURL=chunk-560f7206.js.map