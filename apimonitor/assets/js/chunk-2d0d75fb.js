(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d75fb"],{7716:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"myBreadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("用例列表")])],1),a("el-card",[a("div",[a("SearchCaseList",{attrs:{getcaseListBody:e.getcaseListBody}}),a("CaseListTable",{attrs:{caseList:e.caseList},on:{listenToChildRemoveCase:e.removeCaseById,listenToChildRunCase:e.runCaseById}}),a("el-pagination",{attrs:{background:"","current-page":e.getcaseListBody.page_num,layout:"prev, pager, next",total:1e3},on:{"current-change":e.handleCurrentChange}})],1)])],1)},s=[],r=(a("96cf"),a("1da1")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:30}},[a("el-col",{attrs:{span:6}},[a("span",[e._v("搜索：")]),a("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"联级搜索","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.goCaseInfo()}}},[e._v("新增用例")])],1)],1)},o=[],c={props:["getcaseListBody"],created:function(){},data:function(){return{input3:""}},methods:{goCaseInfo:function(){this.$router.push({path:"/case/info"}),window.sessionStorage.removeItem("case_id")}}},l=c,u=a("2877"),d=Object(u["a"])(l,i,o,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticClass:"model_table",attrs:{border:"",data:e.caseList}},[a("el-table-column",{attrs:{width:"70px",label:"id",prop:"case_id"}}),a("el-table-column",{attrs:{label:"用例名称",prop:"case_name"}}),a("el-table-column",{attrs:{label:"所属项目名称",prop:"project_name"}}),a("el-table-column",{attrs:{label:"所属接口名称",prop:"interface_name"}}),a("el-table-column",{attrs:{label:"所属模块名称",prop:"model_name"}}),a("el-table-column",{attrs:{label:"用例类型",prop:"case_type"}}),a("el-table-column",{attrs:{label:"方法",prop:"method"}}),a("el-table-column",{attrs:{label:"路径",prop:"path"}}),a("el-table-column",{attrs:{label:"URL地址",prop:"url"}}),a("el-table-column",{attrs:{label:"创建人",prop:"create_user"}}),a("el-table-column",{attrs:{label:"操作",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"运行",placement:"top"}},[a("el-button",{attrs:{type:"success",icon:"el-icon-caret-right",size:"mini",ricon:"el-icon-edit",circle:""},on:{click:function(a){return e.runCaseById(t.row.case_id)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"修改",placement:"top"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",ricon:"el-icon-edit",circle:""},on:{click:function(a){return e.editCaseById(t.row.case_id)}}})],1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",ricon:"el-icon-edit",circle:""},on:{click:function(a){return e.removeCaseById(t.row.case_id)}}})],1)]}}])})],1)],1)},h=[],f={props:["caseList"],data:function(){return{}},methods:{removeCaseById:function(e){this.$emit("listenToChildRemoveCase",e)},runCaseById:function(e){this.$emit("listenToChildRunCase",e)},editCaseById:function(e){this.$router.push({path:"/case/info"}),window.sessionStorage.setItem("case_id",e)}}},b=f,v=Object(u["a"])(b,m,h,!1,null,"4d81cf16",null),g=v.exports,C={components:{SearchCaseList:p,CaseListTable:g},created:function(){this.caseListMethod()},data:function(){return{getcaseListBody:{page_num:1},caseList:[],removeAndRunCaseBody:{case_id:""}}},methods:{caseListMethod:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.testcase.getCaseList(this.getcaseListBody);case 2:t=e.sent,a=t.data,1===a.code?this.caseList=a.data:this.$message.error("请求用例信息失败！");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),removeCaseById:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除！"));case 5:return this.removeAndRunCaseBody.case_id=t,e.next=8,this.$api.testcase.removeCase(this.removeAndRunCaseBody);case 8:n=e.sent,s=n.data,1===s.code?(this.$message.success("删除成功！"),this.caseListMethod()):this.$message.error("删除失败！");case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),runCaseById:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.removeAndRunCaseBody.case_id=t,e.next=3,this.$api.testcase.runCase(this.removeAndRunCaseBody);case 3:a=e.sent,n=a.data,1===n.code?this.$message.success("运行成功！"):this.$message.error("运行失败！");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),handleCurrentChange:function(e){this.getcaseListBody.page_num=e,this.caseListMethod()}}},y=C,_=Object(u["a"])(y,n,s,!1,null,"12a01260",null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0d75fb.js.map