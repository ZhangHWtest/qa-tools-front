{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/thread-loader/dist/cjs.js!/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/babel-loader/lib/index.js!/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/http/axios.js","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/http/axios.js","mtime":1585283047797},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IENvb2tpZXMgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlcic7CmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnOwovKioKICogYXhpb3Mg5oum5oiq5Zmo6K6+572uCiAqLwoKZXhwb3J0IHZhciByZXF1ZXMgPSBmdW5jdGlvbiByZXF1ZXMob3B0aW9ucykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgICAvLyDpnIDopoHlr7nmjqXlhbbku5bkurrmjqXlj6PvvIzmiYDku6Xov5nph4zkuI3lrprkuYl1cmwKICAgICAgLy8gYmFzZVVSTDogY29uZmlnLmJhc2VVcmwsCiAgICAgIGhlYWRlcnM6IHsKICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgfSwKICAgICAgdGltZW91dDogY29uZmlnLnRpbWVvdXQsCiAgICAgIHdpdGhDcmVkZW50aWFsczogY29uZmlnLndpdGhDcmVkZW50aWFscwogICAgfSk7IC8vIHJlcXVlc3Qg6K+35rGC5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgdmFyIHRva2VuID0gQ29va2llcy5nZXQoJ3Nlc3Npb24nKTsgLy8g5Y+R6YCB6K+35rGC5pe25pC65bimdG9rZW4KICAgICAgLy8gaWYgKHRva2VuKSB7CiAgICAgIC8vICAgY29uZmlnLmhlYWRlcnMudG9rZW4gPSB0b2tlbjsKICAgICAgLy8gfSBlbHNlIHsKICAgICAgLy8gICAvLyDph43lrprlkJHliLDnmbvlvZXpobXpnaIKICAgICAgLy8gICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICAgIC8vIH0KCiAgICAgIHJldHVybiBjb25maWc7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgLy8g6K+35rGC5Y+R55Sf6ZSZ6K+v5pe2CiAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0OicsIGVycm9yKTsgLy8g5Yik5pat6K+35rGC6LaF5pe2CgogICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ0VDT05OQUJPUlRFRCcgJiYgZXJyb3IubWVzc2FnZS5pbmRleE9mKCd0aW1lb3V0JykgIT09IC0xKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3RpbWVvdXTor7fmsYLotoXml7YnKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsgLy8g5Zyo6LCD55So55qE6YKj6L655Y+v5Lul5ou/5YiwKGNhdGNoKeS9oOaDs+i/lOWbnueahOmUmeivr+S/oeaBrwogICAgfSk7IC8vIHJlc3BvbnNlIOWTjeW6lOaLpuaIquWZqAoKICAgIGluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTsgLy8g6L+U5Zue5o6l5Y+j6L+U5Zue55qE6ZSZ6K+v5L+h5oGvCiAgICB9KTsgLy8g6K+35rGC5aSE55CGCgogICAgaW5zdGFuY2Uob3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJlc29sdmUocmVzKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJlamVjdChlcnJvcik7CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IHZhciByZXF1ZXN0VHdvID0gZnVuY3Rpb24gcmVxdWVzdFR3byhvcHRpb25zKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgIGhlYWRlcjogewogICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGU7Y2hhcnNldD1VVEYtOCcKICAgICAgfSwKICAgICAgdGltZW91dDogY29uZmlnLnRpbWVvdXQsCiAgICAgIHdpdGhDcmVkZW50aWFsczogY29uZmlnLndpdGhDcmVkZW50aWFscwogICAgfSk7IC8vIHJlcXVlc3Qg6K+35rGC5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgaWYgKGNvbmZpZy5tZXRob2QgPT09ICdwb3N0JykgewogICAgICAgIHZhciByZXQgPSAnJzsKCiAgICAgICAgZm9yICh2YXIgaXQgaW4gY29uZmlnLmRhdGEpIHsKICAgICAgICAgIHJldCArPSBlbmNvZGVVUklDb21wb25lbnQoaXQpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGNvbmZpZy5kYXRhW2l0XSkgKyAnJic7CiAgICAgICAgfQoKICAgICAgICBjb25maWcuZGF0YSA9IHJldDsKICAgICAgfQoKICAgICAgdmFyIHRva2VuID0gQ29va2llcy5nZXQoJ3Rva2VuJyk7IC8vIOWPkemAgeivt+axguaXtuaQuuW4pnRva2VuCgogICAgICBpZiAodG9rZW4pIHsKICAgICAgICBjb25maWcuaGVhZGVycy50b2tlbiA9IHRva2VuOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOmHjeWumuWQkeWIsOeZu+W9lemhtemdogogICAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGNvbmZpZzsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyDor7fmsYLlj5HnlJ/plJnor6/ml7YKICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3Q6JywgZXJyb3IpOyAvLyDliKTmlq3or7fmsYLotoXml7YKCiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnRUNPTk5BQk9SVEVEJyAmJiBlcnJvci5tZXNzYWdlLmluZGV4T2YoJ3RpbWVvdXQnKSAhPT0gLTEpIHsKICAgICAgICBjb25zb2xlLmxvZygndGltZW91dOivt+axgui2heaXticpOwogICAgICB9CgogICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOyAvLyDlnKjosIPnlKjnmoTpgqPovrnlj6/ku6Xmi7/liLAoY2F0Y2gp5L2g5oOz6L+U5Zue55qE6ZSZ6K+v5L+h5oGvCiAgICB9KTsgLy8gcmVzcG9uc2Ug5ZON5bqU5oum5oiq5ZmoCgogICAgaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlOwogICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOyAvLyDov5Tlm57mjqXlj6Pov5Tlm57nmoTplJnor6/kv6Hmga8KICAgIH0pOyAvLyDor7fmsYLlpITnkIYKCiAgICBpbnN0YW5jZShvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmVzb2x2ZShyZXMpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmVqZWN0KGVycm9yKTsKICAgIH0pOwogIH0pOwp9Ow=="},{"version":3,"sources":["/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/http/axios.js"],"names":["axios","Cookies","router","config","reques","options","Promise","resolve","reject","instance","create","headers","timeout","withCredentials","interceptors","request","use","token","get","error","console","log","code","message","indexOf","response","err","then","res","catch","requestTwo","header","method","ret","it","data","encodeURIComponent","push"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Cookies from 'js-cookie'\nimport router from '@/router'\nimport config from './config'\n/**\n * axios 拦截器设置\n */\nexport const reques = options => {\n  return new Promise((resolve, reject) => {\n    const instance = axios.create({\n      // 需要对接其他人接口，所以这里不定义url\n      // baseURL: config.baseUrl,\n      headers: { 'Content-Type': 'application/json;charset=UTF-8' },\n      timeout: config.timeout,\n      withCredentials: config.withCredentials\n    })\n    // request 请求拦截器\n    instance.interceptors.request.use(\n      config => {\n        let token = Cookies.get('session')\n        // 发送请求时携带token\n        // if (token) {\n        //   config.headers.token = token;\n        // } else {\n        //   // 重定向到登录页面\n        //   router.push('/login');\n        // }\n        return config\n      },\n      error => {\n        // 请求发生错误时\n        console.log('request:', error)\n        // 判断请求超时\n        if (\n          error.code === 'ECONNABORTED' &&\n          error.message.indexOf('timeout') !== -1\n        ) {\n          console.log('timeout请求超时')\n        }\n        return Promise.reject(error) // 在调用的那边可以拿到(catch)你想返回的错误信息\n      }\n    )\n\n    // response 响应拦截器\n    instance.interceptors.response.use(\n      response => {\n        return response\n      },\n      err => {\n        console.error(err)\n        return Promise.reject(err) // 返回接口返回的错误信息\n      }\n    )\n    // 请求处理\n    instance(options)\n      .then(res => {\n        resolve(res)\n        return false\n      })\n      .catch(error => {\n        reject(error)\n      })\n  })\n}\n\nexport const requestTwo = options => {\n  return new Promise((resolve, reject) => {\n    const instance = axios.create({\n      header: {\n        'Content-Type': 'application/x-www-form-urlencode;charset=UTF-8'\n      },\n      timeout: config.timeout,\n      withCredentials: config.withCredentials\n    })\n    // request 请求拦截器\n    instance.interceptors.request.use(\n      config => {\n        if (config.method === 'post') {\n          let ret = ''\n          for (let it in config.data) {\n            ret +=\n              encodeURIComponent(it) +\n              '=' +\n              encodeURIComponent(config.data[it]) +\n              '&'\n          }\n          config.data = ret\n        }\n\n        let token = Cookies.get('token')\n        // 发送请求时携带token\n        if (token) {\n          config.headers.token = token\n        } else {\n          // 重定向到登录页面\n          router.push('/login')\n        }\n        return config\n      },\n      error => {\n        // 请求发生错误时\n        console.log('request:', error)\n        // 判断请求超时\n        if (\n          error.code === 'ECONNABORTED' &&\n          error.message.indexOf('timeout') !== -1\n        ) {\n          console.log('timeout请求超时')\n        }\n        return Promise.reject(error) // 在调用的那边可以拿到(catch)你想返回的错误信息\n      }\n    )\n\n    // response 响应拦截器\n    instance.interceptors.response.use(\n      response => {\n        return response\n      },\n      err => {\n        console.error(err)\n        return Promise.reject(err) // 返回接口返回的错误信息\n      }\n    )\n    // 请求处理\n    instance(options)\n      .then(res => {\n        resolve(res)\n        return false\n      })\n      .catch(error => {\n        reject(error)\n      })\n  })\n}\n"]}]}