{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/views/project/components/AddProject.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/views/project/components/AddProject.vue","mtime":1585710520786},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkICgpIHsKICAgIHRoaXMucmVjZWl2ZUJvZHkucHJvamVjdF9uYW1lID0gdGhpcy4kcm91dGUucXVlcnkubmFtZQogICAgdGhpcy5yZWNlaXZlQm9keS5wcm9qZWN0X2lkID0gdGhpcy4kcm91dGUucXVlcnkuaWQKICAgIHRoaXMubW9kZWxMaXN0KCkKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6L+b5YWl6aG16Z2i5Yid5aeL5YyW55qE5Y+C5pWwCiAgICAgIHJlY2VpdmVCb2R5OiB7CiAgICAgICAgcHJvamVjdF9pZDogJycsCiAgICAgICAgcHJvamVjdF9uYW1lOiAnJwogICAgICB9LAogICAgICBnZXRNb2RlbExpc3RCb2R5OiB7CiAgICAgICAgcHJvamVjdF9pZDogJycsCiAgICAgICAgcGFnZV9udW06IDEKICAgICAgfSwKICAgICAgY3JlYXRlUHJvamVjdEJvZHk6IHsKICAgICAgICBwcm9qZWN0X25hbWU6ICcnCiAgICAgIH0sCiAgICAgIGVkaXRQcm9qZWN0Qm9keTogewogICAgICAgIHByb2plY3RfaWQ6ICcnLAogICAgICAgIHByb2plY3RfbmFtZTogJycKICAgICAgfSwKICAgICAgY3JlYXRlTW9kZWxCb2R5OiB7CiAgICAgICAgcHJvamVjdF9pZDogJycsCiAgICAgICAgbW9kZWxfbmFtZTogJycKICAgICAgfSwKICAgICAgcmVtb3ZlTW9kZWw6IHsKICAgICAgICBtb2RlbF9pZDogJycKICAgICAgfSwKICAgICAgZWRpdE1vZGVsQm9keTogewogICAgICAgIG1vZGVsX2lkOiAnJywKICAgICAgICBtb2RlbF9uYW1lOiAnJwogICAgICB9LAogICAgICBnZXRNb2RlbEJvZHk6IHt9LAogICAgICBhZGRSdWxlc0Zvcm06IHsKICAgICAgICBwcm9qZWN0X25hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXpobnnm67lkI0nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgZWRpdE1vZGVsRm9ybTogewogICAgICAgIG1vZGVsX25hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmqKHlnZflkI0nLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgLy8g5o6n5Yi25oyJ6ZKu5piv5ZCm5Y+v54K55Ye7CiAgICAgIGlzRGlzYWJsZTogZmFsc2UsCiAgICAgIC8vIOaOp+WItuaMiemSruaYr+WQpuWPr+eCueWHuwogICAgICBjcmVhdGVNb2RlbElzRGlzYWJsZTogZmFsc2UsCiAgICAgIC8vIOaOp+WItuWvueivneahhueahOaYvuekuuS4jumakOiXjwogICAgICBlZGl0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNob3dUYWJsZUlucHV0OiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g56Gu5a6a77yM6L+U5Zue5oyJ6ZKu5Zue5YiwbGlzdOmhtemdogogICAgZ29Qcm9qZWN0TGlzdCAoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcHJvamVjdC9saXN0JykKICAgIH0sCiAgICAvLyDnm5HlkKwg6aG156CB5YC85pS55Y+Y55qE5LqL5Lu2CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlIChuZXdQYWdlKSB7CiAgICAgIHRoaXMuZ2V0TW9kZWxMaXN0Qm9keS5wYWdlX251bSA9IG5ld1BhZ2UKICAgICAgdGhpcy5tb2RlbExpc3QoKQogICAgfSwKICAgIHNob3dUYWJsZUlucHV0TWV0aG9kICgpIHsKICAgICAgY29uc29sZS5sb2coJ+eCueWHu+S6i+S7tu+8ge+8ge+8gScpCiAgICAgIHRoaXMuc2hvd1RhYmxlSW5wdXQgPSB0cnVlCiAgICB9LAogICAgLy8g6I635Y+W5omA5pyJ5qih5Z2X5YiX6KGoCiAgICBhc3luYyBtb2RlbExpc3QgKCkgewogICAgICB0aGlzLmNyZWF0ZVByb2plY3RCb2R5LnByb2plY3RfbmFtZSA9IHRoaXMucmVjZWl2ZUJvZHkucHJvamVjdF9uYW1lCiAgICAgIHRoaXMuZ2V0TW9kZWxMaXN0Qm9keS5wcm9qZWN0X2lkID0gdGhpcy5yZWNlaXZlQm9keS5wcm9qZWN0X2lkCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzcG9uc2VCb2R5IH0gPSBhd2FpdCB0aGlzLiRhcGkucHJvamVjdC5nZXRNb2RlbExpc3QoCiAgICAgICAgdGhpcy5nZXRNb2RlbExpc3RCb2R5CiAgICAgICkKICAgICAgaWYgKHJlc3BvbnNlQm9keS5jb2RlICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPlueUqOaIt+WIl+ihqOWksei0pe+8gScpCiAgICAgIH0KICAgICAgdGhpcy5nZXRNb2RlbEJvZHkgPSByZXNwb25zZUJvZHkuZGF0YQogICAgfSwKICAgIC8vIOeCueWHu+KAneehruiupOKAnOaPkOS6pOWJjeeahOmihOagoemqjAogICAgYXN5bmMgY3JlYXRlUHJvamVjdCAoKSB7CiAgICAgIHRoaXMuaXNEaXNhYmxlID0gdHJ1ZQogICAgICBpZiAoIXRoaXMucmVjZWl2ZUJvZHkucHJvamVjdF9pZCkgewogICAgICAgIC8vIOWIneWni3Byb2plY3RfaWTmsqHmnInmlbDmja7osIPnlKgg5paw5aKeCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS5wcm9qZWN0LmFkZFByb2plY3QoCiAgICAgICAgICB0aGlzLmNyZWF0ZVByb2plY3RCb2R5CiAgICAgICAgKQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDpobnnm67miJDlip/vvIEnKQogICAgICAgICAgdGhpcy5yZWNlaXZlQm9keS5wcm9qZWN0X2lkID0gcmVzLmRhdGEucHJvamVjdF9pZAogICAgICAgICAgdGhpcy5yZWNlaXZlQm9keS5wcm9qZWN0X25hbWUgPSByZXMuZGF0YS5wcm9qZWN0X25hbWUKICAgICAgICB9IGVsc2UgeyB0aGlzLiRtZXNzYWdlLmVycm9yKHJlcy5tc2cpIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDliJ3lp4twcm9qZWN0X2lk5pyJ5pWw5o2u6LCD55SoIOS/ruaUuQogICAgICAgIHRoaXMuZWRpdFByb2plY3RCb2R5LnByb2plY3RfaWQgPSB0aGlzLnJlY2VpdmVCb2R5LnByb2plY3RfaWQKICAgICAgICB0aGlzLmVkaXRQcm9qZWN0Qm9keS5wcm9qZWN0X25hbWUgPSB0aGlzLnJlY2VpdmVCb2R5LnByb2plY3RfbmFtZQogICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRhcGkucHJvamVjdC5lZGl0UHJvamVjdCgKICAgICAgICAgIHRoaXMuZWRpdFByb2plY3RCb2R5CiAgICAgICAgKQogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnpobnnm67miJDlip/vvIEnKQogICAgICAgIH0gZWxzZSB7IHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1zZykgfQogICAgICB9CiAgICAgIC8vIOmYsuatouaMiemSrumHjeWkjeeCueWHu++8jCAxMDAw5q+r56eSPTHnp5IKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5pc0Rpc2FibGUgPSBmYWxzZQogICAgICB9LCAxMDAwKQogICAgfSwKICAgIC8vIOWIm+W7um1vZGVsCiAgICBhc3luYyBjcmVhdGVNb2RlbCAoKSB7CiAgICAgIHRoaXMuY3JlYXRlTW9kZWxJc0Rpc2FibGUgPSB0cnVlCiAgICAgIHRoaXMuY3JlYXRlTW9kZWxCb2R5LnByb2plY3RfaWQgPSB0aGlzLnJlY2VpdmVCb2R5LnByb2plY3RfaWQKICAgICAgY29uc3QgeyBkYXRhOiBjcmVhdGVNb2RlbFJlcyB9ID0gYXdhaXQgdGhpcy4kYXBpLnByb2plY3QuYWRkTW9kZWwoCiAgICAgICAgdGhpcy5jcmVhdGVNb2RlbEJvZHkKICAgICAgKQogICAgICBpZiAoY3JlYXRlTW9kZWxSZXMuY29kZSA9PT0gMSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5qih5Z2X5oiQ5Yqf77yBJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmt7vliqDmqKHlnZflpLHotKXvvIEnKQogICAgICB9CiAgICAgIHRoaXMubW9kZWxMaXN0KCkKICAgICAgLy8g6Ziy5q2i5oyJ6ZKu6YeN5aSN54K55Ye777yMIDEwMDDmr6vnp5I9MeenkgogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmNyZWF0ZU1vZGVsSXNEaXNhYmxlID0gZmFsc2UKICAgICAgfSwgMTAwMCkKICAgIH0sCiAgICAvLyDliKDpmaRtb2RlbAogICAgYXN5bmMgcmVtb3ZlTW9kZWxCeUlkIChpZCkgewogICAgICB0aGlzLnJlbW92ZU1vZGVsLm1vZGVsX2lkID0gaWQKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS5wcm9qZWN0LmRlbE1vZGVsKAogICAgICAgIHRoaXMucmVtb3ZlTW9kZWwKICAgICAgKQogICAgICBpZiAocmVzLmNvZGUgPT09IDEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaooeWdl+aIkOWKn++8gScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5qih5Z2X5aSx6LSl77yBJykKICAgICAgfQoKICAgICAgdGhpcy5tb2RlbExpc3QoKQogICAgfSwKICAgIC8vIOWxleekuue8lui+keeUqOaIt+eahOWvueivneahhgogICAgYXN5bmMgc2hvd0VkaXREaWFsb2cgKGlkLCBuYW1lKSB7CiAgICAgIHRoaXMuZWRpdE1vZGVsQm9keS5tb2RlbF9pZCA9IGlkCiAgICAgIHRoaXMuZWRpdE1vZGVsQm9keS5tb2RlbF9uYW1lID0gbmFtZQogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIC8vIOe8lui+kW1vZGVsCiAgICBhc3luYyBlZGl0TW9kZWxCeUlkICgpIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS5wcm9qZWN0LmVkaXRNb2RlbCgKICAgICAgICB0aGlzLmVkaXRNb2RlbEJvZHkKICAgICAgKQogICAgICBpZiAocmVzLmNvZGUgIT09IDEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnvJbovpHmqKHlnZflpLHotKXvvIEnKQogICAgICB9CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn57yW6L6R5qih5Z2X5oiQ5Yqf77yBJykKICAgICAgdGhpcy5lZGl0RGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgIHRoaXMubW9kZWxMaXN0KCkKICAgIH0sCiAgICBlZGl0RGlhbG9nQ2xvc2VkICgpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpCiAgICB9CgogIH0KCn0K"},{"version":3,"sources":["AddProject.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"AddProject.vue","sourceRoot":"src/views/project/components","sourcesContent":["<template>\n  <dev>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\"\n                   class=\"myBreadcrumb\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item :to=\"{path:'/project/list'}\">项目列表</el-breadcrumb-item>\n      <el-breadcrumb-item>项目详情</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-card>\n      <el-divider />\n      <div>\n        <!-- 内容主体区域-->\n        <el-form ref=\"addFormRef\"\n                 :model=\"createProjectBody\"\n                 :rules=\"addRulesForm\"\n                 label-width=\"100px\">\n          <el-form-item label=\"项目名称:\"\n                        prop=\"project_name\">\n            <el-input class=\"project_name_input\"\n                      placeholder=\"请输入项目名\"\n                      v-model=\"createProjectBody.project_name\"></el-input>\n            <template>\n              <el-tooltip class=\"item\"\n                          effect=\"dark\"\n                          content=\"新增/修改\"\n                          placement=\"top\">\n                <el-button class=\"createProjectButton\"\n                           type=\"success\"\n                           icon=\"el-icon-plus\"\n                           size=\"mini\"\n                           :disabled=\"isDisable\"\n                           circle\n                           @click=\"createProject()\"></el-button>\n              </el-tooltip>\n            </template>\n\n          </el-form-item>\n          <el-form-item label=\"模块名称:\">\n            <el-input class=\"project_name_input\"\n                      placeholder=\"请输入模块名\"\n                      v-model=\"createModelBody.model_name\"></el-input>\n            <template>\n              <el-tooltip class=\"item\"\n                          effect=\"dark\"\n                          content=\"新增\"\n                          placement=\"top\">\n                <el-button class=\"createProjectButton\"\n                           type=\"success\"\n                           icon=\"el-icon-plus\"\n                           size=\"mini\"\n                           :disabled=\"createModelIsDisable\"\n                           circle\n                           @click=\"createModel()\"></el-button>\n              </el-tooltip>\n            </template>\n          </el-form-item>\n          <!-- 模块列表区域-->\n          <el-table class=\"model_table\"\n                    border\n                    :data=\"getModelBody\"\n                    @row-dblclick=\"showTableInputMethod()\">\n            <el-table-column width=\"70px\"\n                             label=\"模块id\"\n                             prop=\"model_id\"></el-table-column>\n            <el-table-column label=\"模块名称\"\n                             prop=\"model_name\">\n            </el-table-column>\n            <el-table-column label=\"创建人\"\n                             prop=\"create_user\"></el-table-column>\n            <el-table-column label=\"操作\"\n                             width=\"120px\">\n              <template slot-scope=\"scope\">\n                <!-- 修改按钮 -->\n                <el-tooltip class=\"item\"\n                            effect=\"dark\"\n                            content=\"修改\"\n                            placement=\"top\">\n                  <el-button type=\"primary\"\n                             icon=\"el-icon-edit\"\n                             size=\"mini\"\n                             ricon=\"el-icon-edit\"\n                             circle\n                             @click=\"showEditDialog(scope.row.model_id,scope.row.model_name)\"></el-button>\n                </el-tooltip>\n                <!-- 删除按钮 -->\n                <el-tooltip class=\"item\"\n                            effect=\"dark\"\n                            content=\"删除\"\n                            placement=\"top\">\n                  <el-button type=\"danger\"\n                             icon=\"el-icon-delete\"\n                             size=\"mini\"\n                             ricon=\"el-icon-edit\"\n                             circle\n                             @click=\"removeModelById(scope.row.model_id)\"></el-button>\n                </el-tooltip>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-form>\n        <el-pagination background\n                       small\n                       :current-page=\"getModelListBody.page_num\"\n                       @current-change=\"handleCurrentChange\"\n                       layout=\"prev, pager, next\"\n                       :total=\"500\">\n        </el-pagination>\n        <span slot=\"footer\"\n              class=\"goProject-dialog-footer\">\n          <el-button @click=\"goProjectList()\">返回</el-button>\n        </span>\n      </div>\n    </el-card>\n    <!-- 修改模块对话框-->\n    <el-dialog title=\"修改模块\"\n               :visible.sync=\"editDialogVisible\"\n               width=\"50%\"\n               @close=\"editDialogClosed\">\n      <!-- 内容主体区域-->\n      <el-form ref=\"editFormRef\"\n               :model=\"editModelBody\"\n               :rules=\"editModelForm\"\n               label-width=\"85px\">\n        <el-form-item label=\"项目名称\"\n                      prop=\"model_name\">\n          <el-input v-model=\"editModelBody.model_name\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"editModelById()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </dev>\n</template>\n\n<script>\nexport default {\n  created () {\n    this.receiveBody.project_name = this.$route.query.name\n    this.receiveBody.project_id = this.$route.query.id\n    this.modelList()\n  },\n  data () {\n    return {\n      // 进入页面初始化的参数\n      receiveBody: {\n        project_id: '',\n        project_name: ''\n      },\n      getModelListBody: {\n        project_id: '',\n        page_num: 1\n      },\n      createProjectBody: {\n        project_name: ''\n      },\n      editProjectBody: {\n        project_id: '',\n        project_name: ''\n      },\n      createModelBody: {\n        project_id: '',\n        model_name: ''\n      },\n      removeModel: {\n        model_id: ''\n      },\n      editModelBody: {\n        model_id: '',\n        model_name: ''\n      },\n      getModelBody: {},\n      addRulesForm: {\n        project_name: [\n          { required: true, message: '请输入项目名', trigger: 'blur' }\n        ]\n      },\n      editModelForm: {\n        model_name: [\n          { required: true, message: '请输入模块名', trigger: 'blur' }\n        ]\n      },\n      // 控制按钮是否可点击\n      isDisable: false,\n      // 控制按钮是否可点击\n      createModelIsDisable: false,\n      // 控制对话框的显示与隐藏\n      editDialogVisible: false,\n      showTableInput: false\n    }\n  },\n  methods: {\n    // 确定，返回按钮回到list页面\n    goProjectList () {\n      this.$router.push('/project/list')\n    },\n    // 监听 页码值改变的事件\n    handleCurrentChange (newPage) {\n      this.getModelListBody.page_num = newPage\n      this.modelList()\n    },\n    showTableInputMethod () {\n      console.log('点击事件！！！')\n      this.showTableInput = true\n    },\n    // 获取所有模块列表\n    async modelList () {\n      this.createProjectBody.project_name = this.receiveBody.project_name\n      this.getModelListBody.project_id = this.receiveBody.project_id\n      const { data: responseBody } = await this.$api.project.getModelList(\n        this.getModelListBody\n      )\n      if (responseBody.code !== 1) {\n        return this.$message.error('获取用户列表失败！')\n      }\n      this.getModelBody = responseBody.data\n    },\n    // 点击”确认“提交前的预校验\n    async createProject () {\n      this.isDisable = true\n      if (!this.receiveBody.project_id) {\n        // 初始project_id没有数据调用 新增\n        const { data: res } = await this.$api.project.addProject(\n          this.createProjectBody\n        )\n        if (res.code === 1) {\n          this.$message.success('添加项目成功！')\n          this.receiveBody.project_id = res.data.project_id\n          this.receiveBody.project_name = res.data.project_name\n        } else { this.$message.error(res.msg) }\n      } else {\n        // 初始project_id有数据调用 修改\n        this.editProjectBody.project_id = this.receiveBody.project_id\n        this.editProjectBody.project_name = this.receiveBody.project_name\n        const { data: res } = await this.$api.project.editProject(\n          this.editProjectBody\n        )\n        if (res.code === 1) {\n          this.$message.success('修改项目成功！')\n        } else { this.$message.error(res.msg) }\n      }\n      // 防止按钮重复点击， 1000毫秒=1秒\n      setTimeout(() => {\n        this.isDisable = false\n      }, 1000)\n    },\n    // 创建model\n    async createModel () {\n      this.createModelIsDisable = true\n      this.createModelBody.project_id = this.receiveBody.project_id\n      const { data: createModelRes } = await this.$api.project.addModel(\n        this.createModelBody\n      )\n      if (createModelRes.code === 1) {\n        this.$message.success('添加模块成功！')\n      } else {\n        this.$message.error('添加模块失败！')\n      }\n      this.modelList()\n      // 防止按钮重复点击， 1000毫秒=1秒\n      setTimeout(() => {\n        this.createModelIsDisable = false\n      }, 1000)\n    },\n    // 删除model\n    async removeModelById (id) {\n      this.removeModel.model_id = id\n      const { data: res } = await this.$api.project.delModel(\n        this.removeModel\n      )\n      if (res.code === 1) {\n        this.$message.success('删除模块成功！')\n      } else {\n        this.$message.error('删除模块失败！')\n      }\n\n      this.modelList()\n    },\n    // 展示编辑用户的对话框\n    async showEditDialog (id, name) {\n      this.editModelBody.model_id = id\n      this.editModelBody.model_name = name\n      this.editDialogVisible = true\n    },\n    // 编辑model\n    async editModelById () {\n      const { data: res } = await this.$api.project.editModel(\n        this.editModelBody\n      )\n      if (res.code !== 1) {\n        this.$message.error('编辑模块失败！')\n      }\n      this.$message.success('编辑模块成功！')\n      this.editDialogVisible = false\n      this.modelList()\n    },\n    editDialogClosed () {\n      this.$refs.editFormRef.resetFields()\n    }\n\n  }\n\n}\n</script>\n\n<style lang=\"less\" scoped>\n.project_name_input {\n  width: 260px;\n}\n.model_table {\n  margin-bottom: 15px;\n}\n.goProject-dialog-footer {\n  float: right;\n  margin-right: 25px;\n  margin-bottom: 15px;\n  margin-top: 10px;\n}\n.createProjectButton {\n  margin-left: 10px;\n}\n.itemAddModel {\n  position: absolute;\n  left: 55%;\n}\n</style>\n"]}]}