{"remainingRequest":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/views/user/UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/src/views/user/UserList.vue","mtime":1585621829431},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhwtest/Desktop/VueProjects/flask_api_ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHZhciBjaGVja0VtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYikgPT4gewogICAgICBjb25zdCByZWdFbWFpbCA9IC9eW0EtWmEtejAtOVx1NGUwMC1cdTlmYTVdK0BbYS16QS1aMC05Xy1dKyhcLlthLXpBLVowLTlfLV0rKSskLwogICAgICBpZiAocmVnRW1haWwudGVzdCh2YWx1ZSkpIHsKICAgICAgICByZXR1cm4gY2IoKQogICAgICB9CiAgICAgIGNiKG5ldyBFcnJvcign6K+36L6T5YWl5ZCI5rOV55qE6YKu566x77yBJykpCiAgICB9CiAgICByZXR1cm4gewogICAgICBxdWVyeUluZm86IHsKICAgICAgICBwYWdlX251bTogMQogICAgICB9LAogICAgICB1c2VyTGlzdDoge30sCiAgICAgIC8vIOaWsOWinueUqOaIt+e7keWumuWPguaVsAogICAgICBjcmVhdGVVc2VyOiB7CiAgICAgICAgdXNlcm5hbWU6IFtdLAogICAgICAgIGVtYWlsOiBbXQogICAgICB9LAogICAgICBlZGl0VXNlcjogewogICAgICAgIHVpZDogJycsCiAgICAgICAgcm9sZV9pZDogJycsCiAgICAgICAgc3RhdHVzOiAnJwogICAgICB9LAogICAgICBlZGl0VXNlclJvbGVzOiB7CiAgICAgICAgdWlkOiAnJywKICAgICAgICByb2xlX2lkOiAnJwogICAgICB9LAogICAgICBlZGl0VXNlclN0YXR1czogewogICAgICAgIHVpZDogJycsCiAgICAgICAgc3RhdHVzOiAnJwogICAgICB9LAogICAgICB1c2VyU3RhdHVzOiB0cnVlLAogICAgICBhZGRSdWxlc0Zvcm06IHsKICAgICAgICB1c2VybmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBlbWFpbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpemCrueusScsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgICAgeyB2YWxpZGF0b3I6IGNoZWNrRW1haWwsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXQogICAgICB9LAogICAgICAvLyDmlrDlop7nlKjmiLfnqpflj6PmiZPlvIDlhbPpl60KICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOe8lui+keeUqOaIt+eql+WPo+aJk+W8gOWFs+mXrQogICAgICBlZGl0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlc2V0UGFzc3dvcmRCb2R5OiB7CiAgICAgICAgdWlkOiAnJwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g55uR5ZCs5re75Yqg55So5oi35a+56K+d5qGG5YWz6Zet5LqL5Lu2CiAgICBhZGREaWFsb2dDbG9zZWQgKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYucmVzZXRGaWVsZHMoKQogICAgfSwKICAgIC8vIOeCueWHu+KAneehruiupOKAnOaPkOS6pOWJjeeahOmihOagoemqjAogICAgYWRkVXNlciAoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS51c2VyLmNyZWF0ZVVzZXIodGhpcy5jcmVhdGVVc2VyKQogICAgICAgIGlmIChyZXMuY29kZSAhPT0gMSkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5re75Yqg55So5oi35aSx6LSl77yBJykKICAgICAgICB9CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmt7vliqDnlKjmiLfmiJDlip/vvIEnKQogICAgICAgIC8vIOa3u+WKoOaIkOWKn+WFs+mXreWvueivneahhgogICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgLy8g6YeN5paw6I635Y+W5YiX6KGo5pWw5o2uCiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgIH0pCiAgICB9LAogICAgYXN5bmMgZ2V0VXNlckxpc3QgKCkgewogICAgICBjb25zdCB7IGRhdGE6IHVzZXJSZXMgfSA9IGF3YWl0IHRoaXMuJGFwaS51c2VyLmdldFVzZXJMaXN0KHRoaXMucXVlcnlJbmZvKQogICAgICBjb25zb2xlLmxvZyh1c2VyUmVzKQogICAgICBpZiAodXNlclJlcy5jb2RlICE9PSAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPlueUqOaIt+WIl+ihqOWksei0pe+8gScpCiAgICAgIH0KICAgICAgdGhpcy51c2VyTGlzdCA9IHVzZXJSZXMuZGF0YQogICAgfSwKICAgIGFzeW5jIHJlc2V0UGFzc3dvcmQgKHNjb3BlKSB7CiAgICAgIGNvbnNvbGUubG9nKHNjb3BlKQogICAgICB0aGlzLnJlc2V0UGFzc3dvcmRCb2R5LnVpZCA9IHNjb3BlLnJvdy51aWQKICAgICAgY29uc3QgeyBkYXRhOiBnZXRNR1JlcyB9ID0gYXdhaXQgdGhpcy4kYXBpLnVzZXIucmVzZXRQYXNzd29yZEFwaSgKICAgICAgICB0aGlzLnJlc2V0UGFzc3dvcmRCb2R5CiAgICAgICkKICAgICAgaWYgKGdldE1HUmVzLmNvZGUgPT09IDEpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnmiJDlip/vvIEnKQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv67mlLnlpLHotKXvvIEnKQogICAgfSwKICAgIGVkaXREaWFsb2dDbG9zZWQgKCkgewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnJlc2V0RmllbGRzKCkKICAgIH0sCiAgICAvLyDlsZXnpLrnvJbovpHnlKjmiLfnmoTlr7nor53moYYKICAgIGFzeW5jIHNob3dFZGl0RGlhbG9nIChzY29wZSkgewogICAgICBjb25zb2xlLmxvZyhzY29wZSkKICAgICAgaWYgKHNjb3BlLnJvdy5yb2xlID09PSAnVXNlcicpIHsKICAgICAgICB0aGlzLmVkaXRVc2VyLnJvbGVfaWQgPSAxCiAgICAgIH0gZWxzZSBpZiAoc2NvcGUucm93LnJvbGUgPT09ICdMZWFkZXInKSB7CiAgICAgICAgdGhpcy5lZGl0VXNlci5yb2xlX2lkID0gMgogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZWRpdFVzZXIucm9sZV9pZCA9IDMKICAgICAgfQogICAgICB0aGlzLmVkaXRVc2VyLnN0YXR1cyA9IHNjb3BlLnJvdy5zdGF0dXMKICAgICAgdGhpcy5lZGl0VXNlci51aWQgPSBzY29wZS5yb3cudWlkCgogICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIC8vIOS/ruaUueeUqOaIt+S/oeaBr+W5tuaPkOS6pAogICAgZWRpdFVzZXJJbmZvICgpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuCiAgICAgICAgdGhpcy5lZGl0VXNlclN0YXR1cy51aWQgPSB0aGlzLmVkaXRVc2VyLnVpZAogICAgICAgIGlmICh0aGlzLmVkaXRVc2VyLnN0YXR1cykgewogICAgICAgICAgdGhpcy5lZGl0VXNlclN0YXR1cy5zdGF0dXMgPSAnVHJ1ZScKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lZGl0VXNlclN0YXR1cy5zdGF0dXMgPSAnRmFsc2UnCiAgICAgICAgfQoKICAgICAgICBjb25zdCB7IGRhdGE6IHN0YXR1c1JlcyB9ID0gYXdhaXQgdGhpcy4kYXBpLnVzZXIub25PZmZVc2VyQXBpKAogICAgICAgICAgdGhpcy5lZGl0VXNlclN0YXR1cwogICAgICAgICkKICAgICAgICBpZiAoc3RhdHVzUmVzLmNvZGUgIT09IDEpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv67mlLnnlKjmiLfkv6Hmga/lpLHotKXvvIEnKQogICAgICAgIH0KICAgICAgICB0aGlzLmVkaXRVc2VyUm9sZXMudWlkID0gdGhpcy5lZGl0VXNlci51aWQKICAgICAgICB0aGlzLmVkaXRVc2VyUm9sZXMucm9sZV9pZCA9IHRoaXMuZWRpdFVzZXIucm9sZV9pZAogICAgICAgIGNvbnN0IHsgZGF0YTogcm9sZVJlcyB9ID0gYXdhaXQgdGhpcy4kYXBpLnVzZXIuc2V0Um9sZUFwaSgKICAgICAgICAgIHRoaXMuZWRpdFVzZXJSb2xlcwogICAgICAgICkKICAgICAgICBpZiAocm9sZVJlcy5jb2RlID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnnlKjmiLfop5LoibLmiJDlip/vvIEnKQogICAgICAgIH0KICAgICAgICAvLyDlhbPpl63lr7nmoYYKICAgICAgICB0aGlzLmVkaXREaWFsb2dWaXNpYmxlID0gZmFsc2UKICAgICAgICAvLyDmj5DnpLrkv6Hmga8KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOaIkOWKn++8gScpCiAgICAgICAgLy8g5Yi35paw5pWw5o2uCiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserList.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div>\n    <!-- 面包屑导航区域-->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片视图区域-->\n    <el-card>\n      <el-row :gutter=\"30\">\n        <el-col :span=\"5\">\n          <el-button type=\"primary\"\n                     plain\n                     @click=\"addDialogVisible = true\">新增用户</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- api列表区域-->\n      <el-table border\n                :data=\"userList\">\n        <el-table-column width=\"50px\"\n                         label=\"uid\"\n                         prop=\"uid\"></el-table-column>\n        <el-table-column label=\"姓名\"\n                         prop=\"username\"></el-table-column>\n        <el-table-column label=\"角色\"\n                         prop=\"role\"></el-table-column>\n        <el-table-column label=\"状态\"\n                         width=\"80px\">\n          <template slot-scope=\"scope\">\n            <div class=\"apiStatus\">\n              <font v-if=\"scope.row.status\"\n                    color=\"#67C23A\"\n                    class=\"apiActive\">启动</font>\n              <font v-else\n                    color=\"#F56C6C\"\n                    class=\"apiNoActive\">禁用</font>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\"\n                         width=\"150px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-tooltip class=\"item\"\n                        effect=\"dark\"\n                        content=\"修改\"\n                        placement=\"top\">\n              <el-button type=\"primary\"\n                         icon=\"el-icon-edit\"\n                         size=\"mini\"\n                         ricon=\"el-icon-edit\"\n                         circle\n                         @click=\"showEditDialog(scope)\"></el-button>\n            </el-tooltip>\n\n            <!-- 重置密码-->\n            <el-tooltip class=\"item\"\n                        effect=\"dark\"\n                        content=\"重置密码\"\n                        placement=\"top\">\n              <el-button type=\"warning\"\n                         icon=\"el-icon-setting\"\n                         size=\"mini\"\n                         circle\n                         @click=\"resetPassword(scope)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <!-- 添加用户对话框-->\n    <el-dialog title=\"添加用户\"\n               :visible.sync=\"addDialogVisible\"\n               width=\"50%\"\n               @close=\"addDialogClosed\">\n      <!-- 内容主体区域-->\n      <el-form ref=\"addFormRef\"\n               :model=\"createUser\"\n               :rules=\"addRulesForm\"\n               label-width=\"70px\">\n        <el-form-item label=\"用户名\"\n                      prop=\"username\">\n          <el-input v-model=\"createUser.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\"\n                      prop=\"email\">\n          <el-input v-model=\"createUser.email\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改用户对话框-->\n    <el-dialog title=\"修改用户\"\n               :visible.sync=\"editDialogVisible\"\n               width=\"50%\"\n               @close=\"editDialogClosed\">\n      <!-- 内容主体区域-->\n      <el-form ref=\"editFormRef\"\n               :model=\"editUser\"\n               :rules=\"addRulesForm\"\n               label-width=\"70px\">\n        <el-form-item label=\"角色: \">\n          <el-radio-group v-model=\"editUser.role_id\">\n            <el-radio :label=\"1\">User</el-radio>\n            <el-radio :label=\"2\">Leader</el-radio>\n            <el-radio :label=\"3\">Admin</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"状态: \">\n          <el-radio-group v-model=\"editUser.status\">\n            <el-radio :label=\"true\">启用</el-radio>\n            <el-radio :label=\"false\">禁用</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"editUserInfo()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    var checkEmail = (rule, value, cb) => {\n      const regEmail = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n      if (regEmail.test(value)) {\n        return cb()\n      }\n      cb(new Error('请输入合法的邮箱！'))\n    }\n    return {\n      queryInfo: {\n        page_num: 1\n      },\n      userList: {},\n      // 新增用户绑定参数\n      createUser: {\n        username: [],\n        email: []\n      },\n      editUser: {\n        uid: '',\n        role_id: '',\n        status: ''\n      },\n      editUserRoles: {\n        uid: '',\n        role_id: ''\n      },\n      editUserStatus: {\n        uid: '',\n        status: ''\n      },\n      userStatus: true,\n      addRulesForm: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ]\n      },\n      // 新增用户窗口打开关闭\n      addDialogVisible: false,\n      // 编辑用户窗口打开关闭\n      editDialogVisible: false,\n      resetPasswordBody: {\n        uid: ''\n      }\n    }\n  },\n  created () {\n    this.getUserList()\n  },\n  methods: {\n    // 监听添加用户对话框关闭事件\n    addDialogClosed () {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 点击”确认“提交前的预校验\n    addUser () {\n      this.$refs.addFormRef.validate(async valid => {\n        if (!valid) return\n        const { data: res } = await this.$api.user.createUser(this.createUser)\n        if (res.code !== 1) {\n          this.$message.error('添加用户失败！')\n        }\n        this.$message.success('添加用户成功！')\n        // 添加成功关闭对话框\n        this.addDialogVisible = false\n        // 重新获取列表数据\n        this.getUserList()\n      })\n    },\n    async getUserList () {\n      const { data: userRes } = await this.$api.user.getUserList(this.queryInfo)\n      console.log(userRes)\n      if (userRes.code !== 1) {\n        return this.$message.error('获取用户列表失败！')\n      }\n      this.userList = userRes.data\n    },\n    async resetPassword (scope) {\n      console.log(scope)\n      this.resetPasswordBody.uid = scope.row.uid\n      const { data: getMGRes } = await this.$api.user.resetPasswordApi(\n        this.resetPasswordBody\n      )\n      if (getMGRes.code === 1) {\n        return this.$message.success('修改成功！')\n      }\n      return this.$message.error('修改失败！')\n    },\n    editDialogClosed () {\n      this.$refs.editFormRef.resetFields()\n    },\n    // 展示编辑用户的对话框\n    async showEditDialog (scope) {\n      console.log(scope)\n      if (scope.row.role === 'User') {\n        this.editUser.role_id = 1\n      } else if (scope.row.role === 'Leader') {\n        this.editUser.role_id = 2\n      } else {\n        this.editUser.role_id = 3\n      }\n      this.editUser.status = scope.row.status\n      this.editUser.uid = scope.row.uid\n\n      this.editDialogVisible = true\n    },\n    // 修改用户信息并提交\n    editUserInfo () {\n      this.$refs.editFormRef.validate(async valid => {\n        if (!valid) return\n        this.editUserStatus.uid = this.editUser.uid\n        if (this.editUser.status) {\n          this.editUserStatus.status = 'True'\n        } else {\n          this.editUserStatus.status = 'False'\n        }\n\n        const { data: statusRes } = await this.$api.user.onOffUserApi(\n          this.editUserStatus\n        )\n        if (statusRes.code !== 1) {\n          return this.$message.error('修改用户信息失败！')\n        }\n        this.editUserRoles.uid = this.editUser.uid\n        this.editUserRoles.role_id = this.editUser.role_id\n        const { data: roleRes } = await this.$api.user.setRoleApi(\n          this.editUserRoles\n        )\n        if (roleRes.code === 1) {\n          return this.$message.success('修改用户角色成功！')\n        }\n        // 关闭对框\n        this.editDialogVisible = false\n        // 提示信息\n        this.$message.success('更新成功！')\n        // 刷新数据\n        this.getUserList()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.apiStatus {\n  padding-left: 10px;\n  .apiActive::before {\n    content: \"\";\n    display: block;\n    width: 10px;\n    height: 10px;\n    background: #67c23a;\n    border-radius: 50%;\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n  .apiNoActive::before {\n    content: \"\";\n    display: block;\n    width: 10px;\n    height: 10px;\n    background: #f56c6c;\n    border-radius: 50%;\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n}\n</style>\n"]}]}