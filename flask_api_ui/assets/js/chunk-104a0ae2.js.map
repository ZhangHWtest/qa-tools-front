{"version":3,"sources":["webpack:///./src/views/user/UserList.vue?10ea","webpack:///src/views/user/UserList.vue","webpack:///./src/views/user/UserList.vue?167d","webpack:///./src/views/user/UserList.vue","webpack:///./src/views/user/UserList.vue?391d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","$event","addDialogVisible","userList","scopedSlots","_u","key","fn","scope","staticClass","row","showEditDialog","resetPassword","addDialogClosed","ref","createUser","addRulesForm","model","value","callback","$$v","$set","expression","slot","addUser","editDialogVisible","editDialogClosed","editUser","editUserInfo","staticRenderFns","data","checkEmail","regEmail","test","cb","Error","queryInfo","page_num","username","email","uid","role_id","status","editUserRoles","editUserStatus","userStatus","resetPasswordBody","created","getUserList","methods","$refs","addFormRef","resetFields","validate","editFormRef","component"],"mappings":"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","file":"assets/js/chunk-104a0ae2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户列表\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":30}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"新增用户\")])],1)],1),_c('el-table',{attrs:{\"border\":\"\",\"data\":_vm.userList}},[_c('el-table-column',{attrs:{\"width\":\"50px\",\"label\":\"uid\",\"prop\":\"uid\"}}),_c('el-table-column',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}}),_c('el-table-column',{attrs:{\"label\":\"角色\",\"prop\":\"role\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"width\":\"80px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"apiStatus\"},[(scope.row.status)?_c('font',{staticClass:\"apiActive\",attrs:{\"color\":\"#67C23A\"}},[_vm._v(\"启动\")]):_c('font',{staticClass:\"apiNoActive\",attrs:{\"color\":\"#F56C6C\"}},[_vm._v(\"禁用\")])],1)]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"修改\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"ricon\":\"el-icon-edit\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.showEditDialog(scope)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"重置密码\",\"placement\":\"top\"}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.resetPassword(scope)}}})],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.createUser,\"rules\":_vm.addRulesForm,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.createUser.username),callback:function ($$v) {_vm.$set(_vm.createUser, \"username\", $$v)},expression:\"createUser.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.createUser.email),callback:function ($$v) {_vm.$set(_vm.createUser, \"email\", $$v)},expression:\"createUser.email\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editUser,\"rules\":_vm.addRulesForm,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色: \"}},[_c('el-radio-group',{model:{value:(_vm.editUser.role_id),callback:function ($$v) {_vm.$set(_vm.editUser, \"role_id\", $$v)},expression:\"editUser.role_id\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"User\")]),_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"Leader\")]),_c('el-radio',{attrs:{\"label\":3}},[_vm._v(\"Admin\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"状态: \"}},[_c('el-radio-group',{model:{value:(_vm.editUser.status),callback:function ($$v) {_vm.$set(_vm.editUser, \"status\", $$v)},expression:\"editUser.status\"}},[_c('el-radio',{attrs:{\"label\":true}},[_vm._v(\"启用\")]),_c('el-radio',{attrs:{\"label\":false}},[_vm._v(\"禁用\")])],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.editUserInfo()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 面包屑导航区域-->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n      <el-breadcrumb-item>用户列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片视图区域-->\n    <el-card>\n      <el-row :gutter=\"30\">\n        <el-col :span=\"5\">\n          <el-button type=\"primary\"\n                     plain\n                     @click=\"addDialogVisible = true\">新增用户</el-button>\n        </el-col>\n      </el-row>\n\n      <!-- api列表区域-->\n      <el-table border\n                :data=\"userList\">\n        <el-table-column width=\"50px\"\n                         label=\"uid\"\n                         prop=\"uid\"></el-table-column>\n        <el-table-column label=\"姓名\"\n                         prop=\"username\"></el-table-column>\n        <el-table-column label=\"角色\"\n                         prop=\"role\"></el-table-column>\n        <el-table-column label=\"状态\"\n                         width=\"80px\">\n          <template slot-scope=\"scope\">\n            <div class=\"apiStatus\">\n              <font v-if=\"scope.row.status\"\n                    color=\"#67C23A\"\n                    class=\"apiActive\">启动</font>\n              <font v-else\n                    color=\"#F56C6C\"\n                    class=\"apiNoActive\">禁用</font>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\"\n                         width=\"150px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-tooltip class=\"item\"\n                        effect=\"dark\"\n                        content=\"修改\"\n                        placement=\"top\">\n              <el-button type=\"primary\"\n                         icon=\"el-icon-edit\"\n                         size=\"mini\"\n                         ricon=\"el-icon-edit\"\n                         circle\n                         @click=\"showEditDialog(scope)\"></el-button>\n            </el-tooltip>\n\n            <!-- 重置密码-->\n            <el-tooltip class=\"item\"\n                        effect=\"dark\"\n                        content=\"重置密码\"\n                        placement=\"top\">\n              <el-button type=\"warning\"\n                         icon=\"el-icon-setting\"\n                         size=\"mini\"\n                         circle\n                         @click=\"resetPassword(scope)\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <!-- 添加用户对话框-->\n    <el-dialog title=\"添加用户\"\n               :visible.sync=\"addDialogVisible\"\n               width=\"50%\"\n               @close=\"addDialogClosed\">\n      <!-- 内容主体区域-->\n      <el-form ref=\"addFormRef\"\n               :model=\"createUser\"\n               :rules=\"addRulesForm\"\n               label-width=\"70px\">\n        <el-form-item label=\"用户名\"\n                      prop=\"username\">\n          <el-input v-model=\"createUser.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\"\n                      prop=\"email\">\n          <el-input v-model=\"createUser.email\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改用户对话框-->\n    <el-dialog title=\"修改用户\"\n               :visible.sync=\"editDialogVisible\"\n               width=\"50%\"\n               @close=\"editDialogClosed\">\n      <!-- 内容主体区域-->\n      <el-form ref=\"editFormRef\"\n               :model=\"editUser\"\n               :rules=\"addRulesForm\"\n               label-width=\"70px\">\n        <el-form-item label=\"角色: \">\n          <el-radio-group v-model=\"editUser.role_id\">\n            <el-radio :label=\"1\">User</el-radio>\n            <el-radio :label=\"2\">Leader</el-radio>\n            <el-radio :label=\"3\">Admin</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"状态: \">\n          <el-radio-group v-model=\"editUser.status\">\n            <el-radio :label=\"true\">启用</el-radio>\n            <el-radio :label=\"false\">禁用</el-radio>\n          </el-radio-group>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\"\n            class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\"\n                   @click=\"editUserInfo()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    var checkEmail = (rule, value, cb) => {\n      const regEmail = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n      if (regEmail.test(value)) {\n        return cb()\n      }\n      cb(new Error('请输入合法的邮箱！'))\n    }\n    return {\n      queryInfo: {\n        page_num: 1\n      },\n      userList: {},\n      // 新增用户绑定参数\n      createUser: {\n        username: [],\n        email: []\n      },\n      editUser: {\n        uid: '',\n        role_id: '',\n        status: ''\n      },\n      editUserRoles: {\n        uid: '',\n        role_id: ''\n      },\n      editUserStatus: {\n        uid: '',\n        status: ''\n      },\n      userStatus: true,\n      addRulesForm: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { validator: checkEmail, trigger: 'blur' }\n        ]\n      },\n      // 新增用户窗口打开关闭\n      addDialogVisible: false,\n      // 编辑用户窗口打开关闭\n      editDialogVisible: false,\n      resetPasswordBody: {\n        uid: ''\n      }\n    }\n  },\n  created () {\n    this.getUserList()\n  },\n  methods: {\n    // 监听添加用户对话框关闭事件\n    addDialogClosed () {\n      this.$refs.addFormRef.resetFields()\n    },\n    // 点击”确认“提交前的预校验\n    addUser () {\n      this.$refs.addFormRef.validate(async valid => {\n        if (!valid) return\n        const { data: res } = await this.$api.user.createUser(this.createUser)\n        if (res.code !== 1) {\n          this.$message.error('添加用户失败！')\n        }\n        this.$message.success('添加用户成功！')\n        // 添加成功关闭对话框\n        this.addDialogVisible = false\n        // 重新获取列表数据\n        this.getUserList()\n      })\n    },\n    async getUserList () {\n      const { data: userRes } = await this.$api.user.getUserList(this.queryInfo)\n      console.log(userRes)\n      if (userRes.code !== 1) {\n        return this.$message.error('获取用户列表失败！')\n      }\n      this.userList = userRes.data\n    },\n    async resetPassword (scope) {\n      console.log(scope)\n      this.resetPasswordBody.uid = scope.row.uid\n      const { data: getMGRes } = await this.$api.user.resetPasswordApi(\n        this.resetPasswordBody\n      )\n      if (getMGRes.code === 1) {\n        return this.$message.success('修改成功！')\n      }\n      return this.$message.error('修改失败！')\n    },\n    editDialogClosed () {\n      this.$refs.editFormRef.resetFields()\n    },\n    // 展示编辑用户的对话框\n    async showEditDialog (scope) {\n      console.log(scope)\n      if (scope.row.role === 'User') {\n        this.editUser.role_id = 1\n      } else if (scope.row.role === 'Leader') {\n        this.editUser.role_id = 2\n      } else {\n        this.editUser.role_id = 3\n      }\n      this.editUser.status = scope.row.status\n      this.editUser.uid = scope.row.uid\n\n      this.editDialogVisible = true\n    },\n    // 修改用户信息并提交\n    editUserInfo () {\n      this.$refs.editFormRef.validate(async valid => {\n        if (!valid) return\n        this.editUserStatus.uid = this.editUser.uid\n        if (this.editUser.status) {\n          this.editUserStatus.status = 'True'\n        } else {\n          this.editUserStatus.status = 'False'\n        }\n\n        const { data: statusRes } = await this.$api.user.onOffUserApi(\n          this.editUserStatus\n        )\n        if (statusRes.code !== 1) {\n          return this.$message.error('修改用户信息失败！')\n        }\n        this.editUserRoles.uid = this.editUser.uid\n        this.editUserRoles.role_id = this.editUser.role_id\n        const { data: roleRes } = await this.$api.user.setRoleApi(\n          this.editUserRoles\n        )\n        // 关闭对框\n        this.editDialogVisible = false\n        // 提示信息\n        this.$message.success('更新成功！')\n        // 刷新数据\n        this.getUserList()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.apiStatus {\n  padding-left: 10px;\n  .apiActive::before {\n    content: \"\";\n    display: block;\n    width: 10px;\n    height: 10px;\n    background: #67c23a;\n    border-radius: 50%;\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n  .apiNoActive::before {\n    content: \"\";\n    display: block;\n    width: 10px;\n    height: 10px;\n    background: #f56c6c;\n    border-radius: 50%;\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserList.vue?vue&type=template&id=19a8d728&scoped=true&\"\nimport script from \"./UserList.vue?vue&type=script&lang=js&\"\nexport * from \"./UserList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserList.vue?vue&type=style&index=0&id=19a8d728&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19a8d728\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=19a8d728&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserList.vue?vue&type=style&index=0&id=19a8d728&lang=less&scoped=true&\""],"sourceRoot":""}